{% extends 'extras/navegacion.html' %}

{% load static %}

{% block pag %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actualizar Usuario</title>
</head>
<body>
    <h1>Actualizar Usuario</h1>
    
   
    
   
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
        <h3 style="text-align: center; color: #333; margin-bottom: 10px;"> Buscar Usuario</h3>
        
        <form method="GET" style="text-align: center;">
            <div style="margin-bottom: 15px;">
                <label for="kword" style="display: block; margin-bottom: 8px; font-weight: 500; color: #555;">
                    Ingrese nombre, email o ID del usuario:
                </label>
                <input type="text" 
                       id="kword" 
                       name="kword" 
                       placeholder="nombre, gmail@.com,1 "
                       value="{{ request.GET.kword|default:'' }}"
                       style="padding: 12px; width: 80%; max-width: 400px; 
                              border: 2px solid #ddd; border-radius: 6px; font-size: 16px;">
            </div>
            
            <button type="submit" 
                    style="padding: 12px 30px; background: #3498db; color: white; 
                           border: none; border-radius: 6px; font-size: 16px; 
                           font-weight: 600; cursor: pointer;">
                üîç Buscar Usuario
            </button>

             <a href="{% url 'home' %}" 
                style="display: inline-block; padding: 10px 30px; background-color: #3498db; 
                    color: white; text-decoration: none; border-radius: 4px; 
                    font-weight: 500; font-size: 16px;">
                    iniciar sesion
            </a>
        </form>
    </div>
    
   
    {% if messages %}
        {% for message in messages %}
            <div style="background: #d4edda; color: #155724; padding: 15px; 
                       margin: 20px auto; border-radius: 6px; border-left: 5px solid #28a745;
                       max-width: 600px; text-align: center;">
                ‚úÖ {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    
    {% if error %}
        <div style="background: #f8d7da; color: #721c24; padding: 15px; 
                   margin: 20px auto; border-radius: 6px; border-left: 5px solid #dc3545;
                   max-width: 600px; text-align: center;">
            ‚ö†Ô∏è {{ error }}
        </div>
    {% endif %}
    
 
    {% if forms %}
    <div style="background: #e9f7fe; padding: 30px; border-radius: 8px; margin-top: 30px;">
        <h2 style="text-align: center; color: #333; margin-bottom: 25px;">
            ‚úèÔ∏è Editando Usuario: <span style="color: #2c3e50;">{{ usuario.username }}</span>
        </h2>
        
        <div style="background: white; padding: 20px; border-radius: 6px; margin-bottom: 25px; border: 1px solid #ddd;">
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                <div>
                    <strong style="color: #555;">ID:</strong> 
                    <span style="color: #2c3e50;">{{ usuario.id }}</span>
                </div>
                <div>
                    <strong style="color: #555;">Nombre de usuario:</strong> 
                    <span style="color: #2c3e50;">{{ usuario.username }}</span>
                </div>
                <div>
                    <strong style="color: #555;">Email:</strong> 
                    <span style="color: #2c3e50;">{{ usuario.email|default:"No especificado" }}</span>
                </div>
                <div>
                    <strong style="color: #555;">Nombre completo:</strong> 
                    <span style="color: #2c3e50;">{{ usuario.get_full_name|default:"No especificado" }}</span>
                </div>
                <div>
                    <strong style="color: #555;">Fecha registro:</strong> 
                    <span style="color: #2c3e50;">{{ usuario.date_joined|date:"d/m/Y H:i" }}</span>
                </div>
                <div>
                    <strong style="color: #555;">Estado:</strong> 
                    <span style="color: {% if usuario.is_active %}#28a745{% else %}#dc3545{% endif %}; font-weight: 600;">
                        {% if usuario.is_active %}‚úÖ Activo{% else %}‚ùå Inactivo{% endif %}
                    </span>
                </div>
            </div>
        </div>
        
       
        <form method="POST">
            {% csrf_token %}
            <input type="hidden" name="usuario_id" value="{{ usuario.id }}">
            
            <div style="background: white; padding: 25px; border-radius: 6px; border: 1px solid #ddd;">
                
                <div style="margin-bottom: 20px;">
                    <label for="id_username" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
                        Nombre de Usuario:
                    </label>
                    {{ forms.username }}
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label for="id_email" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
                        Correo Electr√≥nico:
                    </label>
                    {{ forms.email }}
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label for="id_first_name" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
                        Nombre:
                    </label>
                    {{ forms.first_name }}
                </div>
                
                <div style="margin-bottom: 20px;">
                    <label for="id_last_name" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
                        Apellidos:
                    </label>
                    {{ forms.last_name }}
                </div>
                
               
                <div style="margin-bottom: 30px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 500; color: #333;">
                        Estado del Usuario:
                    </label>
                    <div style="display: flex; align-items: center; gap: 20px;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            {{ forms.is_active }}
                            <span style="margin-left: 10px; color: #333;">Usuario Activo</span>
                        </label>
                    </div>
                </div>
            </div>
            

            <div style="text-align: center; margin-top: 30px;">
                <button type="submit" 
                        style="padding: 15px 40px; background: #28a745; color: white; 
                               border: none; border-radius: 6px; font-size: 18px; 
                               font-weight: 600; cursor: pointer; margin-right: 15px;">
                    üíæ Guardar Cambios
                </button>
                
                <a href="{% url 'update_usuario' %}">
                    <button type="button" 
                            style="padding: 15px 40px; background: #6c757d; color: white; 
                                   border: none; border-radius: 6px; font-size: 18px; 
                                   font-weight: 600; cursor: pointer; margin-right: 15px;">
                        üîÑ Nueva B√∫squeda
                    </button>
                </a>
                
                <button type="reset" 
                        style="padding: 15px 40px; background: #ffc107; color: #333; 
                               border: none; border-radius: 6px; font-size: 18px; 
                               font-weight: 600; cursor: pointer;">
                    ‚Ü©Ô∏è Restablecer
                </button>
            </div>
        </form>
    </div>
    {% endif %}
</body>
</html>

{% endblock %}